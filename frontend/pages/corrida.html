<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro de Corrida</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <nav class="navbar">
    <a href="../index.html">Home</a>
    <a href="rota.html">Calculadora de Rota</a>
    <a href="clientes.html">Clientes</a>
    <a href="historico.html">Histórico</a>
    <a href="consumo.html">Consumo</a>
    <a href="veiculos.html">Veículos</a>
    <a href="corrida.html" class="active">Corrida</a>
    <button id="logoutButton">Logout</button>
  </nav>

  <main class="content">
    <h2>Registro de Corrida</h2>
    <form id="corridaForm">
      <input type="text" id="cliente" placeholder="Cliente" required>
      <input type="text" id="motorista" placeholder="Motorista" required>
      <input type="text" id="origem" placeholder="Origem" required>
      <input type="text" id="destino" placeholder="Destino" required>
      <input type="number" id="preco" placeholder="Preço (R$)" required>
      <button type="submit">Registrar Corrida</button>
    </form>
  </main>

  <script>
    // Função para salvar corrida no localStorage
    function salvarCorrida(cliente, motorista, origem, destino, preco) {
      const corridas = JSON.parse(localStorage.getItem("corridas")) || [];
      const novaCorrida = {
        cliente,
        motorista,
        origem,
        destino,
        preco,
        status: "Pendente" // Status inicial
      };
      corridas.push(novaCorrida);
      localStorage.setItem("corridas", JSON.stringify(corridas));
    }

    // Evento de submissão do formulário
    const corridaForm = document.getElementById("corridaForm");
    corridaForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const cliente = document.getElementById("cliente").value;
      const motorista = document.getElementById("motorista").value;
      const origem = document.getElementById("origem").value;
      const destino = document.getElementById("destino").value;
      const preco = document.getElementById("preco").value;

      // Salva a corrida e limpa o formulário
      salvarCorrida(cliente, motorista, origem, destino, preco);
      alert("Corrida registrada com sucesso!");
      corridaForm.reset();
    });
  </script>
</body>
</html>
