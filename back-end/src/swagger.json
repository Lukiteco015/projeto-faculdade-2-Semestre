{
    "openapi": "3.0.0",
    "info": {
      "title": "API de Motoristas particulares",
      "version": "1.0.0",
      "description": "API para app de motoristas particulares"
    },
    "servers": [
      {
        "url": "http://localhost:5000/api"
      }
    ],
    "paths": {
    "/agendamentos/": {
        "post": {
          "summary": "Criar um novo agendamento",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Agendamento"
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Agendamento criado com sucesso"
            },
            "500": {
              "description": "Erro ao criar agendamento"
            }
          }
        }
      },
    "/agendamentos/{id}": {
        "put": {
          "summary": "Atualizar um agendamento existente",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID do agendamento"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "horario": { "type": "string", "format": "date-time" },
                    "localOrigem": { "type": "string" },
                    "localDestino": { "type": "string" }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Agendamento atualizado com sucesso"
            },
            "404": {
              "description": "Agendamento não encontrado"
            },
            "500": {
              "description": "Erro ao atualizar agendamento"
            }
          }
        },
        "delete": {
          "summary": "Cancelar um agendamento existente",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "ID do agendamento"
            }
          ],
          "responses": {
            "200": {
              "description": "Agendamento cancelado com sucesso"
            },
            "404": {
              "description": "Agendamento não encontrado"
            },
            "500": {
              "description": "Erro ao cancelar agendamento"
            }
          }
        }
      },
    "/agendamentos/{id}/dias/adicionar": {
      "put": {
        "summary": "Adicionar dias a um agendamento existente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do agendamento"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "dias": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dias adicionados com sucesso"
          },
          "404": {
            "description": "Agendamento não encontrado"
          },
          "500": {
            "description": "Erro ao adicionar dias"
          }
        }
      }
    },
    "/agendamentos/{id}/dias/remover": {
      "put": {
        "summary": "Remover dias de um agendamento existente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do agendamento"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "dias": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dias removidos com sucesso"
          },
          "404": {
            "description": "Agendamento não encontrado"
          },
          "500": {
            "description": "Erro ao remover dias"
          }
        }
      }
    },
    "/cliente/cadastrar": {
        "post": {
          "summary": "Cadastrar um novo cliente",
          "description": "Cria um cliente associado ao motorista autenticado.",
          "security": [
            {
              "BearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClienteInput"
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Cliente criado com sucesso.",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/ClienteResponse"
                  }
                }
              }
            },
            "400": {
              "description": "Dados insuficientes ou cliente já existente com o CPF fornecido.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "mensagem": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Token inválido ou expirado.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "mensagem": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "403": {
              "description": "Token de autenticação não fornecido.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "mensagem": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "500": {
              "description": "Erro interno ao criar cliente.",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "mensagem": {
                        "type": "string"
                      },
                      "erro": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
    },
    "/corrida": {
      "post": {
        "summary": "Criar uma nova corrida",
        "description": "Endpoint para criação de uma nova corrida, vinculando motorista e cliente.",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CorridaInput"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Corrida criada com sucesso.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CorridaResponse"
                }
              }
            }
          },
          "400": {
            "description": "Erro de validação ou distância inválida.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Erro"
                }
              }
            }
          },
          "401": {
            "description": "Token inválido ou não fornecido.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Erro"
                }
              }
            }
          },
          "404": {
            "description": "Cliente não encontrado.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Erro"
                }
              }
            }
          },
          "500": {
            "description": "Erro interno ao criar corrida.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Erro"
                }
              }
            }
          }
        }
      }
    },
    "/historico/criar": {
      "post": {
        "summary": "Criar um novo histórico de corrida",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HistoricoInput"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Histórico criado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HistoricoResponse"
                }
              }
            }
          },
          "500": {
            "description": "Erro ao criar histórico"
          }
        }
      }
    },
    "/historico/": {
      "get": {
        "summary": "Obter todos os históricos de corridas",
        "responses": {
          "200": {
            "description": "Lista de históricos de corridas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/HistoricoResponse"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erro ao obter os históricos"
          }
        }
      }
    },
    "/historico/{id}": {
      "get": {
        "summary": "Obter um histórico específico por ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do histórico"
          }
        ],
        "responses": {
          "200": {
            "description": "Dados do histórico solicitado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HistoricoResponse"
                }
              }
            }
          },
          "400": {
            "description": "ID inválido"
          },
          "404": {
            "description": "Histórico não encontrado"
          },
          "500": {
            "description": "Erro ao obter o histórico"
          }
        }
      },
      "put": {
        "summary": "Atualizar um histórico de corrida",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do histórico"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HistoricoInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Histórico atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HistoricoResponse"
                }
              }
            }
          },
          "400": {
            "description": "ID inválido"
          },
          "404": {
            "description": "Histórico não encontrado"
          },
          "500": {
            "description": "Erro ao atualizar o histórico"
          }
        }
      },
      "delete": {
        "summary": "Excluir um histórico de corrida",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do histórico"
          }
        ],
        "responses": {
          "200": {
            "description": "Histórico excluído com sucesso"
          },
          "400": {
            "description": "ID inválido"
          },
          "404": {
            "description": "Histórico não encontrado"
          },
          "500": {
            "description": "Erro ao excluir o histórico"
          }
        }
      }
    },
    "/motorista/cadastrar": {
      "post": {
        "summary": "Cadastrar um novo motorista e veículo",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MotoristaCadastroInput"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Motorista e veículo criados com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MotoristaCadastroResponse"
                }
              }
            }
          },
          "400": {
            "description": "Dados insuficientes para cadastro"
          },
          "500": {
            "description": "Erro ao cadastrar motorista e veículo"
          }
        }
      }
    },
    "/motorista/login": {
      "post": {
        "summary": "Login de motorista",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MotoristaLoginInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login bem-sucedido",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MotoristaLoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inválidas"
          },
          "500": {
            "description": "Erro ao realizar login"
          }
        }
      }
    },
    "/relatorio/consumo/criar": {
      "post": {
        "summary": "Criar um novo relatório de consumo",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelatorioConsumo"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Relatório de consumo criado com sucesso.",
            "content": {
              "application/json": {
                "example": {
                  "mensagem": "Relatório de consumo criado com sucesso!",
                  "novoRelatorio": {
                    "motoristaId": "63c9f34e8f8b0b4f5c7b2e36",
                    "data": "2024-11-25T00:00:00.000Z",
                    "quilometragem": 200,
                    "consumoCombustivel": 20
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erro ao criar relatório de consumo."
          }
        }
      }
    },
    "/relatorio/consumo/": {
      "get": {
        "summary": "Obter todos os relatórios de consumo",
        "responses": {
          "200": {
            "description": "Lista de relatórios de consumo.",
            "content": {
              "application/json": {
                "example": [
                  {
                    "_id": "63c9f34e8f8b0b4f5c7b2e36",
                    "motoristaId": {
                      "_id": "63c9f34e8f8b0b4f5c7b2e37",
                      "nome": "João Motorista"
                    },
                    "data": "2024-11-25T00:00:00.000Z",
                    "quilometragem": 200,
                    "consumoCombustivel": 20
                  }
                ]
              }
            }
          },
          "500": {
            "description": "Erro ao obter relatórios de consumo."
          }
        }
      }
    },
    "/relatorio/consumo/{id}": {
      "put": {
        "summary": "Atualizar um relatório de consumo existente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do relatório de consumo."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelatorioConsumoUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Relatório de consumo atualizado com sucesso.",
            "content": {
              "application/json": {
                "example": {
                  "mensagem": "Relatório de consumo atualizado com sucesso!",
                  "relatorio": {
                    "_id": "63c9f34e8f8b0b4f5c7b2e36",
                    "data": "2024-11-25T00:00:00.000Z",
                    "quilometragem": 250,
                    "consumoCombustivel": 25
                  }
                }
              }
            }
          },
          "404": {
            "description": "Relatório de consumo não encontrado."
          },
          "500": {
            "description": "Erro ao atualizar relatório de consumo."
          }
        }
      },
      "delete": {
        "summary": "Excluir um relatório de consumo existente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do relatório de consumo."
          }
        ],
        "responses": {
          "200": {
            "description": "Relatório de consumo excluído com sucesso.",
            "content": {
              "application/json": {
                "example": {
                  "mensagem": "Relatório de consumo excluído com sucesso!"
                }
              }
            }
          },
          "404": {
            "description": "Relatório de consumo não encontrado."
          },
          "500": {
            "description": "Erro ao excluir relatório de consumo."
          }
          }
        }
    },
    "/relatorio/ganhos/criar": {
      "post": {
        "summary": "Criar um novo relatório de ganhos",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelatorioGanhos"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Relatório de ganhos criado com sucesso.",
            "content": {
              "application/json": {
                "example": {
                  "mensagem": "Relatório de ganhos criado com sucesso!",
                  "novoRelatorio": {
                   